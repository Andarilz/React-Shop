import {FETCH_PHONES_SUCCESS, LOAD_MORE_PHONES_SUCCESS, SEARCH_PHONE} from '../actionTypes'
import * as R from 'ramda'


const initialState = {
  ids: [],
    //складываем все айдишники в массив
  search: ''
}

//получаем айдишники телеонов, что мы отрисуем

export default (state = initialState, {type, payload}) => {
  switch(type){
    case FETCH_PHONES_SUCCESS:

      return R.mergeRight(state, {
        ids: R.pluck('id', payload) //создаем айдишник как ключ для старых значений
      })

    case LOAD_MORE_PHONES_SUCCESS:

      const ids = R.pluck('id', payload)

      return R.mergeRight(state, {
        ids: R.concat(state.ids, ids) //соединяем новые значения и старые
      })

    case SEARCH_PHONE:

      return R.mergeRight(state, {
        search: payload
      })

    default:
      return state
  }

}
